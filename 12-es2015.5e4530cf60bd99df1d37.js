(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{cRhG:function(e,o,n){"use strict";n.r(o),n.d(o,"ProfilePageModule",(function(){return u}));var i=n("TEn/"),r=n("ofXK"),t=n("3Pt+"),b=n("qtYk"),c=n("tyNb"),s=n("mrSG"),l=n("rN4z"),a=n("fXoL");const f=[{path:"",component:(()=>{class e{constructor(e,o){this.router=e,this.fidjService=o,this.refresh(null)}refresh(e){return Object(s.a)(this,void 0,void 0,(function*(){try{const e=(yield this.fidjService.getIdToken()).split(".")[1],o=JSON.parse(l.a.decode(e));console.log(typeof o,o.name),this.profileUsername=o.name}catch(o){console.warn(o),401!==o.code&&403!==o.code||(yield this.logout())}e&&e.target.complete()}))}logout(){return Object(s.a)(this,void 0,void 0,(function*(){yield this.fidjService.logout(),yield this.router.navigateByUrl("/")}))}}return e.\u0275fac=function(o){return new(o||e)(a.Hb(c.g),a.Hb(l.c))},e.\u0275cmp=a.Bb({type:e,selectors:[["app-profile"]],decls:34,vars:3,consts:[[3,"translucent"],["src","assets/icon/favicon.png","height","15em"],[3,"fullscreen"],["slot","fixed",3,"ionRefresh"],["collapse","condense"],["size","large"],["profileForm","ngForm"],["size-md","8","offset-md","2","size-sm","12"],["id","profileUsername","name","profileUsername","disabled","",3,"ngModel","ngModelChange"],["href","https://fidj.ovh"],["color","danger","expand","block",3,"click"]],template:function(e,o){1&e&&(a.Kb(0,"ion-header",0),a.Kb(1,"ion-toolbar"),a.Kb(2,"ion-title"),a.Ib(3,"img",1),a.bc(4," My profile "),a.Jb(),a.Jb(),a.Jb(),a.Kb(5,"ion-content",2),a.Kb(6,"ion-refresher",3),a.Rb("ionRefresh",(function(e){return o.refresh(e)})),a.Ib(7,"ion-refresher-content"),a.Jb(),a.Kb(8,"ion-header",4),a.Kb(9,"ion-toolbar"),a.Kb(10,"ion-title",5),a.bc(11,"Profile"),a.Jb(),a.Jb(),a.Jb(),a.Kb(12,"form",null,6),a.Kb(14,"ion-grid"),a.Kb(15,"ion-row"),a.Kb(16,"ion-col",7),a.Kb(17,"ion-row"),a.Kb(18,"ion-col"),a.Kb(19,"ion-item"),a.Kb(20,"ion-label"),a.bc(21,"User"),a.Jb(),a.Kb(22,"ion-input",8),a.Rb("ngModelChange",(function(e){return o.profileUsername=e})),a.Jb(),a.Jb(),a.Kb(23,"ion-item"),a.Kb(24,"pre"),a.Kb(25,"small"),a.bc(26,"App is using "),a.Kb(27,"a",9),a.bc(28,"Fidj service"),a.Jb(),a.bc(29," that take care of GDPR concerns."),a.Jb(),a.Jb(),a.Jb(),a.Jb(),a.Jb(),a.Kb(30,"ion-row"),a.Kb(31,"ion-col"),a.Kb(32,"ion-button",10),a.Rb("click",(function(){return o.logout()})),a.bc(33,"Logout"),a.Jb(),a.Jb(),a.Jb(),a.Jb(),a.Jb(),a.Jb(),a.Jb(),a.Jb()),2&e&&(a.Vb("translucent",!0),a.xb(5),a.Vb("fullscreen",!0),a.xb(17),a.Vb("ngModel",o.profileUsername))},directives:[i.i,i.v,i.u,i.g,i.n,i.o,t.j,t.e,t.f,i.h,i.q,i.f,i.l,i.m,i.k,i.z,t.d,t.g,i.b],styles:[""]}),e})()}];let d=(()=>{class e{}return e.\u0275mod=a.Fb({type:e}),e.\u0275inj=a.Eb({factory:function(o){return new(o||e)},imports:[[c.i.forChild(f)],c.i]}),e})(),u=(()=>{class e{}return e.\u0275mod=a.Fb({type:e}),e.\u0275inj=a.Eb({factory:function(o){return new(o||e)},imports:[[i.w,r.b,t.a,b.a,d]]}),e})()}}]);